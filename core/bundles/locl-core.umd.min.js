!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/localize/init"),require("@angular/core"),require("@angular/localize")):"function"==typeof define&&define.amd?define("@locl/core",["exports","@angular/localize/init","@angular/core","@angular/localize"],n):n(((e=e||self).locl=e.locl||{},e.locl.core={}),e.ng.localize.init,e.ng.core,e.ng.localize)}(this,(function(e,n,t,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function i(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return a}function a(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(i(arguments[n]));return e}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var l="undefined"!=typeof globalThis&&globalThis,u="undefined"!=typeof window&&window,s="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,c=l||u||s,f=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return new(g.bind.apply(g,a([void 0,e],n)))},d=c.$localize;c.$localize=f;var p=!1,g=function(e){function n(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var r=e.call(this)||this;return r.value=null,r.postProcess=!1,r.initParams=a([n],t),r}return function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(n,e),n.prototype.toString=function(){return this.value?this.value:p?(this.value=c.$localize.apply(c,a(this.initParams)),this.postProcess&&(this.value=t.ɵɵi18nPostprocess(this.value),this.postProcess=!1),this.value):d.apply(void 0,a(this.initParams))},n.prototype.replace=function(e,n){return this.postProcess=!0,this},n.prototype.valueOf=function(){return this.toString()},n}(String);function v(e){c.$localize=d,(null==e?void 0:e.translations)&&Object.keys(e.translations).length&&o.loadTranslations(e.translations),(null==e?void 0:e.locale)&&(c.$localize.locale=e.locale),p=!0}function w(e){if(!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))throw new Error("Only JSON translation files are supported at the moment");return JSON.parse(e)}function h(){if("undefined"==typeof window||void 0===window.navigator)return"";var e=window.navigator.languages?window.navigator.languages[0]:null;return(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage).replace(/_/g,"-")}e.$locl=f,e.fetchTranslations=function(e,n,t){return void 0===n&&(n="GET"),void 0===t&&(t={}),fetch(e,{method:n,headers:t}).then((function(e){return e.text()})).then((function(e){var n=w(e);return v(n),n}))},e.getBrowserCultureLang=h,e.getBrowserLang=function(){return"undefined"==typeof window||void 0===window.navigator?"":h().split("-")[0]},e.getTranslations=function(e,n,t,o){return void 0===n&&(n="GET"),void 0===t&&(t={}),void 0===o&&(o=!0),new Promise((function(r,i){var a=new XMLHttpRequest;a.onload=function(){try{var e=w(a.responseText);v(e),r(e)}catch(e){i(e)}},a.onerror=function(){i(new Error("Network request failed"))},a.ontimeout=function(){i(new Error("Network request timeout"))},a.onabort=function(){i(new Error("Network request aborted"))},Object.keys(t).forEach((function(e){return a.setRequestHeader(e,t[e])})),a.open(n,e,o),a.send()}))},e.loadTranslations=v,e.parseTranslations=w,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=locl-core.umd.min.js.map